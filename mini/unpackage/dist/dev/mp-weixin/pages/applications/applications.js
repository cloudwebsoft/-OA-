(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/applications/applications"],{414:function(e,n,t){"use strict";(function(e){var n=t(3);t(25);n(t(24));var o=n(t(415));wx.__webpack_require_UNI_MP_PLUGIN__=t,e(o.default)}).call(this,t(1)["createPage"])},415:function(e,n,t){"use strict";t.r(n);var o=t(416),r=t(418);for(var c in r)["default"].indexOf(c)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(c);t(420);var a,i=t(314),s=Object(i["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,"93100e34",null,!1,o["components"],a);s.options.__file="pages/applications/applications.vue",n["default"]=s.exports},416:function(e,n,t){"use strict";t.r(n);var o=t(417);t.d(n,"render",(function(){return o["render"]})),t.d(n,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(n,"components",(function(){return o["components"]}))},417:function(e,n,t){"use strict";var o;t.r(n),t.d(n,"render",(function(){return r})),t.d(n,"staticRenderFns",(function(){return a})),t.d(n,"recyclableRender",(function(){return c})),t.d(n,"components",(function(){return o}));try{o={uBadge:function(){return t.e("node-modules/uview-ui/components/u-badge/u-badge").then(t.bind(null,749))}}}catch(i){if(-1===i.message.indexOf("Cannot find module")||-1===i.message.indexOf(".vue"))throw i;console.error(i.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var e=this,n=e.$createElement;e._self._c},c=!1,a=[];r._withStripped=!0},418:function(e,n,t){"use strict";t.r(n);var o=t(419),r=t.n(o);for(var c in o)["default"].indexOf(c)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(c);n["default"]=r.a},419:function(e,n,t){"use strict";(function(e){var o=t(3);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(t(323)),c=o(t(10)),a=o(t(325)),i=t(357),s=t(32),u=t(29),l=t(31);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,c.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p={data:function(){return{customStyle:{margin:"0rpx"},url:{list:"/mobile/getAppIcons"},list:[],nums:{noticeNum:0,waitNum:0,messageNum:0}}},onLoad:function(){this.getUserInfo()},onShow:function(){this.getList(),this.getNoticeNum()},methods:{getList:function(){var e=this;(0,i.getAction)(this.url.list).then((function(n){0==n.res&&(e.list=n.result.datas,e.list&&e.list.length>0?e.list.map((function(e){e.imgUrls=e.imgUrl?s.Api.baseUrl+"/"+e.imgUrl:""})):e.list=[])}))},getNoticeNum:function(e){},todoItem:function(n,t){var o=n.mId,r=n.code,c="";"flow_wait"==r?c="/application/waitProcessListH5":"myflow"==r?c="/application/hadProcessListH5":"flow_launch"==r?c="/application/initProcessListH5":16==o?c="/application/sysMessage":21==o?c="/application/noticeList":"fileark"==r?c="/application/filearkDir":13==o?c="/application/calendar":14==o?c="/application/calendarShared":18==o?c="/application/punch":23==o?c="/application/address":3===n.type?c="/application/moduleList":"/scan"!=n.code&&e.showToast({title:"开发中",icon:"none",duration:1e3}),"/scan"==n.code?this.scanQrcode():e.navigateTo({url:"".concat(c,"?record=").concat(JSON.stringify(n))})},scanQrcode:function(){var n=this,t=!1;e.scanCode({success:function(o){console.log("scan1 res",o),t=n.doScan(o),t||((0,u.Toast)("none","扫码失败，尝试第2次"),e.scanCode({success:function(o){console.log("scan2 res",o),t=n.doScan(o),t||((0,u.Toast)("none","扫码失败，尝试第3次"),e.scanCode({success:function(e){console.log("scan3 res",e),t=n.doScan(e),t||(0,u.Toast)("none","扫码失败，请重新扫码")}}))}}))}})},doScan:function(n){return(0,a.default)(r.default.mark((function t(){var o,c,a,s,l,d,f;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=n.result,console.log("resultRaw",o),c=null;try{c=JSON.parse(o)}catch(r){console.log(r)}if(console.log("result",c),null!=c){t.next=17;break}return console.log("扫码结果: "+o),t.next=9,(0,i.postAction)("/public/android/getBarcode",{barcode:o},"post",{skey:(0,u.getSkey)(),"content-type":"application/x-www-form-urlencoded"});case 9:if(a=t.sent,console.log("resBar",a),200!=a.code){t.next=15;break}c=a.data,t.next=17;break;case 15:return(0,u.Toast)("none",a.msg),t.abrupt("return",!1);case 17:if(console.log("scanCode-result",c),!c.scanActionType){t.next=33;break}if("flow"!=c.scanActionType){t.next=26;break}return c.scanId=c.id,s="/application/process",e.navigateTo({url:"".concat(s,"?record=").concat(JSON.stringify(c))}),t.abrupt("return",!0);case 26:if("create"!=c.scanActionType){t.next=33;break}return c.scanId=c.id,delete c["id"],console.log("create result",c),l="/application/moduleAddEdit",e.navigateTo({url:"".concat(l,"?record=").concat(JSON.stringify(c))}),t.abrupt("return",!0);case 33:if(!c.url){t.next=38;break}d=c.url,e.navigateTo({url:"".concat(d,"?record=").concat(JSON.stringify(c))}),t.next=45;break;case 38:if(c.id){t.next=43;break}return console.log("扫码识别失败: "+n.result),t.abrupt("return",!1);case 43:f="/application/moduleShow",e.navigateTo({url:"".concat(f,"?record=").concat(JSON.stringify(c))});case 45:return t.abrupt("return",!0);case 46:case"end":return t.stop()}}),t)})))()},getUserInfo:function(){(0,i.getAction)("/public/android/i/info").then((function(n){if(0==n.res){var t=n.result;e.setStorage({key:"uesrInfo",data:t,success:function(){(0,u.setUserInfo)()}})}}))}},computed:f({},(0,l.mapState)(["loginInfo"]))};n.default=p}).call(this,t(1)["default"])},420:function(e,n,t){"use strict";t.r(n);var o=t(421),r=t.n(o);for(var c in o)["default"].indexOf(c)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(c);n["default"]=r.a},421:function(e,n,t){}},[[414,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/applications/applications.js.map