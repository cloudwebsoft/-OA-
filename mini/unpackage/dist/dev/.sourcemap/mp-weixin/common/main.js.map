{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/oa7.0_team/mini/App.vue?5095","uni-app:///App.vue","webpack:///D:/oa7.0_team/mini/App.vue?1a65"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","prototype","$store","store","config","productionTip","mixin","share","use","uView","App","mpType","app","$mount","render","staticRenderFns","components","renderjs","component","options","__file","globalData","wgtVer","version","mixins","data","isFromWxWorkOrDd","onLaunch","console","that","onShow","onHide","created","methods","plusReady","plus","versionCode"],"mappings":"6IAAA,MAE2D,eAC3D,WACA,WACA,YACA,YAA0C,2kBAJ1CA,GAAGC,kCAAoCC,EAKvCC,UAAIC,UAAUC,OAASC,UACvBH,UAAII,OAAOC,eAAgB,EAC3BL,UAAIM,MAAMC,WACVP,UAAIQ,IAAIC,WAERC,UAAIC,OAAS,MAEb,IAAMC,EAAM,IAAIZ,UAAI,EAAD,GACfU,YAEJ,EAAAE,GAAIC,W,8DCjBJ,0HAAIC,EAAQC,EAAmCC,EAC3CC,EADJ,SASIC,EAAY,qBACd,aACAJ,EACAC,GACA,EACA,KACA,KACA,MACA,EACAC,EACAC,GAGFC,EAAUC,QAAQC,OAAS,UACZ,aAAAF,E,yCCvBf,wHAAgpB,eAAG,G,iJCCnpB,QAYA,GAJA,MAGA,SACA,UACA,wkBADA,MAEA,CACAG,YACAC,UACAC,YAEAC,mBACAC,gBACA,OACAC,sBAGAC,qBACAC,4BACA,WA4DAA,+BACA,4BACAA,yBACAA,2BAGA,+BACAC,4BAEAA,kBAwBAC,mBACAF,0BACAA,wFAaA,qBAIA,QAMAG,oBAGAC,mBAEA,oCACA,GACA7B,gCAQA8B,SAEAC,qBACA,WAEAC,yDACA,gBACA,gBACA,uBACAN,yBACAD,YACA,UACAN,EACAc,EACAb,gBACAD,iBACAc,UAKA,c,6DCtLA,yHAAutC,eAAG,G","file":"common/main.js","sourcesContent":["import 'uni-pages';\r\n// @ts-ignore\r\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import Vue from 'vue'\r\nimport App from './App'\r\nimport store from './store'   //在main.js中引入vuex\r\nimport uView from \"uview-ui\";\r\nimport share from './pages/mixin/share.js'\r\nVue.prototype.$store = store // 注册原型==>   把vuex 注册在$store原型上\r\nVue.config.productionTip = false\r\nVue.mixin(share);\r\nVue.use(uView);\r\n\r\nApp.mpType = 'app'\r\n\r\nconst app = new Vue({\r\n\t...App\r\n})\r\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n\timport {\r\n\t\treCheck,\r\n\t\tcache,\r\n\t\tsetOpenId,\r\n\t\tToast,\r\n\t\tgetSkey,\r\n\t\tgetDeptCode,\r\n\t} from \"./utils/commonHeader.js\";\r\n\timport {\r\n\t\tApi\r\n\t} from \"./utils/Api.js\";\r\n\timport * as dd from 'dingtalk-jsapi';\r\n\timport store from './store' // 引入vuex\r\n\timport loginInfo from \"@/pages/mixin/method.js\";\r\n\texport default {\r\n\t\tglobalData: {\r\n\t\t\twgtVer: \"\",\r\n\t\t\tversion: \"\",\r\n\t\t},\r\n\t\tmixins: [loginInfo],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisFromWxWorkOrDd: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLaunch: function(e) {\r\n\t\t\tconsole.log(\"首页onLaunch\", e);\r\n\t\t\tlet that = this;\r\n\t\t\t// #ifdef H5\r\n\t\t\tconsole.log('getSkey()', getSkey());\r\n\t\t\t// 如果未登录，则尝试登录\r\n\t\t\tif (getSkey() == '') {\r\n\t\t\t\t// 如果在钉钉中运行\r\n\t\t\t\tif (dd.env.platform !== \"notInDingTalk\") {\r\n\t\t\t\t\tthat.getDingDingConfig().then(res => {\r\n\t\t\t\t\t\tlet cfg = res;\r\n\t\t\t\t\t\tconsole.log('getDingDingConfig', cfg);\r\n\t\t\t\t\t\tthat.isFromWxWorkOrDd = true;\r\n\t\t\t\t\t\t//进行钉钉登录操作\r\n\t\t\t\t\t\tdd.ready(function() {\r\n\t\t\t\t\t\t\tdd.runtime.permission.requestAuthCode({\r\n\t\t\t\t\t\t\t\tcorpId: cfg.corpId,\r\n\t\t\t\t\t\t\t\tonSuccess: function(info) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('info', info);\r\n\t\t\t\t\t\t\t\t\tlet code = info.code; // 通过该免登授权码可以获取用户身份\r\n\t\t\t\t\t\t\t\t\tthat.getLoginCodeForDingDingH5(code);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tonFail: function(err) {\r\n\t\t\t\t\t\t\t\t\tToast(\"获取钉钉个人信息异常，请稍后重试! \" + JSON.stringify(err));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\t// 当状态改为rejcted及执行体出现错误时,被执行\r\n\t\t\t\t\t\tconsole.log('getDingDingConfig 失败:' + error)\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar url = window.location.search;\r\n\t\t\t\t\tvar params = new Object();\r\n\t\t\t\t\tif (url.indexOf(\"?\") != -1) {\r\n\t\t\t\t\t\tvar str = url.substr(1);\r\n\t\t\t\t\t\tvar strs = str.split(\"&\");\r\n\t\t\t\t\t\tfor (var i = 0; i < strs.length; i++) {\r\n\t\t\t\t\t\t\tparams[strs[i].split(\"=\")[0]] = (strs[i].split(\"=\")[1]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log('params', params);\r\n\r\n\t\t\t\t\t// 企业微信应用登录\r\n\t\t\t\t\tif (params.code && params.state) {\r\n\t\t\t\t\t\tthat.isFromWxWorkOrDd = true;\r\n\t\t\t\t\t\tthat.getLoginCodeForWorkH5(params.code);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// 如果是默认的首页（空白页），则指向消息页\r\n\t\t\t\tif (e.path == 'pages/index/indexPage') {\r\n\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\turl: \"/pages/index/index\",\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// #endif;\r\n\r\n\t\t\t// console.log('App Launch，app启动')\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tconsole.log('ifdef MP-WEIXIN');\r\n\t\t\tconst sysInfo = uni.getSystemInfoSync();\r\n\t\t\tconsole.log(\"sysInfo\", sysInfo);\r\n\t\t\tconsole.log('wx.qy', wx.qy);\r\n\r\n\t\t\t// 企业微信端小程序，在H5下检测不到\r\n\t\t\tif (sysInfo.environment == 'wxwork' || wx.qy) {\r\n\t\t\t\tthat.getLoginCodeForWorkMini();\r\n\t\t\t} else {\r\n\t\t\t\tthat.getLoginCode();\r\n\t\t\t}\r\n\r\n\t\t\t// reCheck();\r\n\t\t\t//  查看是否授权\r\n\t\t\t// wx.getSetting({\r\n\t\t\t//   success(res) {\r\n\t\t\t//     console.log(\"是否授权\", res);\r\n\t\t\t//     if (res.authSetting[\"scope.userInfo\"]) {\r\n\t\t\t//       // 已经授权，可以直接调用\r\n\t\t\t//       that.getLoginCode();\r\n\t\t\t//     }\r\n\t\t\t//   },\r\n\t\t\t//   fail() {\r\n\t\t\t//     uni.reLaunch({\r\n\t\t\t//       url: \"/pages/index/auth\",\r\n\t\t\t//     });\r\n\t\t\t//   },\r\n\t\t\t// });\r\n\t\t\t// uni.reLaunch({\r\n\t\t\t//   url: \"/pages/index/auth\",\r\n\t\t\t// });\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tonShow: function(e) {\r\n\t\t\tconsole.log(\"首页onShow\", e);\r\n\t\t\tconsole.log('getSkey()', getSkey(), 'this.isFromWxWorkOrDd', this.isFromWxWorkOrDd);\r\n\t\t\t// #ifdef H5\r\n\t\t\t// 如果来自于企业微信或者已登录，则不reCheck，以免闪现登录页或刷新后回到首页\r\n\t\t\tif (!this.isFromWxWorkOrDd && getSkey() == '') {\r\n\t\t\t\treCheck(e.path);\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\treCheck(e.path);\r\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\treCheck(e.path);\r\n\t\t\t// #endif\r\n\t\t\t\t\t\t\r\n\t\t\t// cache(\"times\", null);\r\n\t\t\tif (!window) {\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tthis.plusReady();\r\n\t\t\t\t// #endif\r\n\t\t\t}\r\n\t\t},\r\n\t\tonHide: function() {\r\n\t\t\t// console.log('App Hide，app不再展现在前台')\r\n\t\t},\r\n\t\tcreated: function() {\r\n\t\t\t//在页面加载时恢复本地存储空间里的状态信息\r\n\t\t\tlet info = uni.getStorageSync(\"loginInfo\");\r\n\t\t\tif (info) {\r\n\t\t\t\tstore.commit('SET_INFO', info);\r\n\t\t\t}\r\n\t\t\r\n\t\t\t// 在页面刷新时将vuex里的信息保存到sessionStorage里\r\n\t\t\t// window.addEventListener('beforeunload', () => {\r\n\t\t\t//   sessionStorage.setItem('store', JSON.stringify(this.$store.state));\r\n\t\t\t// });\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取当前版本号\r\n\t\t\tplusReady() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\t// 获取本地应用资源版本号\r\n\t\t\t\tplus.runtime.getProperty(plus.runtime.appid, function(inf) {\r\n\t\t\t\t\tlet wgtVer = inf.version; //获取当前版本版本名称  1.0.0\r\n\t\t\t\t\tlet versionCode = inf.versionCode; //获取当前版本号 100\r\n\t\t\t\t\tlet version = plus.runtime.version; //代表的是:manifest.json中设置的apk/ipa版本号。\r\n\t\t\t\t\tthat.$store.state.version = wgtVer;\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\"获取当前版本号\",\r\n\t\t\t\t\t\twgtVer,\r\n\t\t\t\t\t\tversionCode,\r\n\t\t\t\t\t\tversion,\r\n\t\t\t\t\t\ttypeof wgtVer,\r\n\t\t\t\t\t\ttypeof versionCode\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import \"uview-ui/index.scss\";\r\n\t@import url(\"@/static/font-awesome-4.7.0/css/font-awesome.css\");\r\n\r\n\tpage {\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t/* 解决头条小程序组件内引入字体不生效的问题 */\r\n\t/* #ifdef MP-TOUTIAO */\r\n\t@font-face {\r\n\t\tfont-family: uniicons;\r\n\t\tsrc: url(\"/static/uni.ttf\");\r\n\t}\r\n\r\n\t/* #endif */\r\n\t/*弹性盒*/\r\n\t/*居中*/\r\n\t.heri-center {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/*水平两端对其*/\r\n\t.heri-between {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/*水平开始*/\r\n\t.heri-start-center {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/*水平结束*/\r\n\t.heri-end-center {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/*水平主轴开始*/\r\n\t.heri-start {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: flex-start;\r\n\t}\r\n\r\n\t/*垂直两端对其*/\r\n\t.ver-between {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/*垂直上下左右居中*/\r\n\t.ver-center {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/*垂直上下居中*/\r\n\t.ver-item-center {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/**上边距*/\r\n\t.mt-40 {\r\n\t\tmargin-top: 40upx;\r\n\t}\r\n\r\n\t/**下边距*/\r\n\t.mb-40 {\r\n\t\tmargin-bottom: 40upx;\r\n\t}\r\n\r\n\t/*文字溢出*/\r\n\t.word-overflow {\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\r\n\t/*盒子*/\r\n\t.mainPage {\r\n\t\twidth: 100%;\r\n\t\tmin-height: 100vh; //85vh;;\r\n\t\tbackground: #f7f8fa;\r\n\t}\r\n\r\n\t/*font-size:14*/\r\n\t.font-14 {\r\n\t\tfont-size: 28upx;\r\n\t}\r\n\r\n\t.ValideRequest {\r\n\t\t//表单必填文字样式\r\n\t\tcolor: #ff0000;\r\n\t\tfont-size: 24upx;\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.3.4.18\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}